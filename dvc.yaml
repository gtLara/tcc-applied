stages:
  load:
    cmd: python src/load.py
    deps:
      - src/load.py
      - data/raw/motor_current_signals.pkl
      - src/utils/data/load.py
      - src/utils/data/write.py
    params:
      - load.decimation_factor
      - load.moving_average_win_size
    outs:
      - data/interim/processed_signal.pkl
  decompose:  
    cmd: python src/decompose.py 
    deps:
      - src/decompose.py
      - data/interim/processed_signal.pkl
      - src/utils/models/trend.py
      - src/utils/models/seasonality.py
      - src/utils/decomposition/decomposition.py
      - src/utils/data/write.py
    outs:
      - data/decomposed/trend.pkl
      - data/decomposed/seasonal_pattern.pkl
      - data/decomposed/residual.pkl
    plots:
      - plots/decomposition.png
